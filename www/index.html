<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script type="text/javascript">
        $(document).bind("mobileinit", function() {
            console.log("mobileinit GLOBAL - override jQM global config values before jQM loads");
            $.mobile.touchOverflowEnabled = true;
            $.mobile.defaultPageTransition = 'none'; // optional - for better performance on Android
            $.mobile.loadingMessageTextVisible = true; // optional - added to show text message
            $.mobile.buttonMarkup.hoverDelay = 20; // optional added to remove sluggishness - jqm default 200
        });
    </script>

    <script type="text/javascript" src="lib/jquery.min.js"></script>
    <script src="lib/parse-1.2.8.min.js"></script>
    <script src="lib/cordova-2.0.0.js"></script>
    <script src="lib/main.js"></script>
    <script src="lib/auth.js"></script>
    <script src="lib/jquery-1.8.2.min.js"></script>
    <script src="lib/jquery.mobile-1.3.1.min.js"></script>
    <script src="lib/cdv-plugin-fb-connect.js"></script>
    <script src="lib/facebook-js-sdk.js"></script>
    <script src="lib/ChildBrowser.js"></script>
    <script src="lib/google-auth.js"></script>
    <script src="lib/find_friends.js"></script>
    <script src="lib/device_contacts.js"></script>
    <script src="phonegap.js"></script>

    <script type="text/javascript" src="lib/liquid.js"></script>
    <script type="text/javascript" src="lib/helper/liquid.helper.oauth.js"></script>
    <script type="text/javascript" src="lib/model/liquid.model.tasks.js"></script>



    <script type="text/javascript" src="lib/gapi-client.min.js"></script>
    <LINK href="css/jquery.mobile-1.3.1.min.css" rel="stylesheet" type="text/css">

</head>
<body>

<div id="fb-root"></div>




<div data-role="page" id="page-unauthorized">

    <div data-role="header">
        <h1>CalPal</h1>
    </div>

    <div data-role="content">
        <p>You can create a new user on this page. The value you enter in fName will be the username.
            Appropriate handling is in place for duplicate user names and email addresses.</p>
        <a href="#registration" data-rel="dialog" data-transition="pop"
           data-role="button" id="reg">Register</a>
        <a href="#login" data-rel="dialog" data-transition="pop"
           data-role="button" id="log">Login</a>
        <div class="login">
            <a data-role="button" onclick="promptLogin()" class="login-button">
                <span>Login Facebook (not working)</span>
            </a>
        </div>
        <div id="access-code" data-authcode="">
            <a href="#" id="auth-app" data-role="button" data-transition="none" >
            Sign In With Google!</a>
        </div>

    </div>
</div>

<div data-role="page" id="registration">
    <div data-role="header">
        <h1>CalPal Registration</h1>
    </div>

    <div data-role="content">
        <div id="regStatus"></div>
        <form id="addNote" >

            <p>

                <input type="text" id="firstName" placeHolder="First Name">
                <input type="text" id="lastName" placeHolder="Last Name">
                <input type="text" id="eMail" placeHolder="E-Mail Address">
                <input type="text" id="phoneNumber" placeHolder="Phone Number">
            </p>
            <p>
                <a href="#" data-rel="dialog" data-transition="pop"
                   data-role="button" id="addUserBtn">Create User</a>
            </p>


        </form>
    </div>

</div>

<div data-role="page" id="login">
    <div data-role="header">
        <h1>CalPal Login</h1>
    </div>
    <div data-role="content">
        <p>
            <input type="text" id="username" placeHolder="First Name">
            <input type="text" id="password" placeHolder="Password">
        </p>
        <p>
            <a href="#" data-rel="dialog" data-transition="pop"
               data-role="button" id="LoginBtn">Login</a>


        </p>


    </div>
</div>

<div data-role="page" id="synch">
    <div data-role="header">
        <h1>CalPal Device Synch</h1>
    </div>
    <div data-role="content">
        <div id="salutation"></div>
        <div id="token"> </div>
        <div id="email-address"></div>
        <div id="access-api" data-authcode="">
            <a href="#" id="api-app" data-role="button" data-transition="none" >
                Access Api</a>
        </div>
        <div id="synch-device" data-authcode="">
        <a data-role="button" onclick="synchDevice()" >
            Device Synch</a>
        </div>

        <div id="go_to_contacts" data-authcode="">
            <a href="#contact-groups" data-role="button"  >
                Next - Find Friends</a>
        </div>



        <div id="login-return" data-authcode="">
            <a href="#" id="login-ret" data-role="button" data-transition="none" >
                Return to Login</a>
        </div>

    </div>
</div>






<div data-role="page" id="contact-groups">
    <div data-role="header"  data-add-back-btn="true">
        <h1>Find Friends </h1>
    </div>
    <div data-role="content">
        <ul data-role="listview"  data-inset="false">
            <li><a href="#"><img src="img/GooglePlus.png">Google - Not working</a></li>
            <li><a href="#"><img src="img/Facebook.png">Facebook - Not working</a></li>
            <li><a href="#" onClick="findContacts()"  id="list-device-contacts"><img src="img/Device.png">
                <div id="device-model"></div> </a>
                <span class="ui-li-count" id="device-contact-count"></span> </li>
        </ul>
        <br /><br />



        <div id="synch-return" data-authcode="">
            <a href="#synch" id="return-to-synch" data-role="button" data-transition="none" data-rel="back" >
                Return to Synch</a>
        </div>


    </div>
</div>

<div data-role="page" id="contacts">
    <div data-role="header"  data-add-back-btn="true">
        <h1>My Contacts </h1>
    </div>
    <div data-role="content">
        <ul data-role="listview" id="contact-list" data-inset="false">
        </ul>
    </div>
    <div id="contact-groups-return" data-authcode="">
        <a href="#contact-groups"  data-role="button" data-transition="none" >
            Return </a>
    </div>
</div>




<script>
    // Initialize the Facebook SDK
    $(document).ready(function() {
        FB.init({
            appId: '428574547256032',
           //nativeInterface: CDV.FB,
            useCachedDialogs: false,
            xfbml      : true
        });



        authUser();
        FB.getLoginStatus(handleStatusChange);
        FB.getLoginStatus(function(response) {
            if (response.status == "connected") {
                alert("yes I am in ");
            }
            else{
                alert(" you need to login to facebook:");
            }
        });
        //updateAuthElements();
    });
</script>

<script type="text/javascript" src="lib/gtaskdemo.main.js" charset="utf-8"></script>

</body>
</html>