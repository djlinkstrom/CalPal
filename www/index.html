<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script type="text/javascript">
        $(document).bind("mobileinit", function() {
            console.log("mobileinit GLOBAL - override jQM global config values before jQM loads");
            $.mobile.touchOverflowEnabled = true;
            $.mobile.defaultPageTransition = 'none'; // optional - for better performance on Android
            $.mobile.loadingMessageTextVisible = true; // optional - added to show text message
            $.mobile.buttonMarkup.hoverDelay = 20; // optional added to remove sluggishness - jqm default 200
        });
    </script>

    <script type="text/javascript" src="lib/jquery.min.js"></script>
    <script src="lib/parse-1.2.8.min.js"></script>
    <script src="lib/cordova-2.0.0.js"></script>
    <script src="lib/main.js"></script>
    <script src="lib/auth.js"></script>
    <script src="lib/jquery-1.8.2.min.js"></script>
    <script src="lib/jquery.mobile-1.3.1.min.js"></script>
    <script src="lib/cdv-plugin-fb-connect.js"></script>
    <script src="lib/facebook-js-sdk.js"></script>
    <script src="lib/ChildBrowser.js"></script>
    <script src="lib/google-auth.js"></script>
    <script src="phonegap.js"></script>

    <script type="text/javascript" charset="utf-8" src="lib/liquid.js"></script>
    <script type="text/javascript" charset="utf-8" src="lib/helper/liquid.helper.oauth.js"></script>
    <script type="text/javascript" charset="utf-8" src="lib/model/liquid.model.tasks.js"></script>
    <script type="text/javascript" charset="utf-8" src="lib/model/liquid.model.calendar.js"></script>

    <script type="text/javascript" charset="utf-8" src="lib/gapi-client.min.js"></script>
    <LINK href="css/jquery.mobile-1.3.1.min.css" rel="stylesheet" type="text/css">

</head>
<body>

<div id="fb-root"></div>




<div data-role="page" id="page-unauthorized">

    <div data-role="header">
        <h1>CalPal</h1>
    </div>

    <div data-role="content">
        <p>You can create a new user on this page. The value you enter in fName will be the username.
            Appropriate handling is in place for duplicate user names and email addresses.</p>
        <a href="#registration" data-rel="dialog" data-transition="pop"
           data-role="button" id="reg">Register</a>
        <a href="#login" data-rel="dialog" data-transition="pop"
           data-role="button" id="log">Login</a>
        <div class="login">
            <a data-role="button" onclick="promptLogin()" class="login-button">
                <span>Login Facebook (not working)</span>
            </a>
        </div>
        <div id="access-code" data-authcode="">
            <a href="#" id="auth-app" data-role="button" data-transition="none" >
            Sign In With Google!</a>
        </div>

    </div>
</div>

<div data-role="page" id="registration">
    <div data-role="header">
        <h1>CalPal Registration</h1>
    </div>

    <div data-role="content">
        <div id="regStatus"></div>
        <form id="addNote" >

            <p>

                <input type="text" id="firstName" placeHolder="First Name">
                <input type="text" id="lastName" placeHolder="Last Name">
                <input type="text" id="eMail" placeHolder="E-Mail Address">
                <input type="text" id="phoneNumber" placeHolder="Phone Number">
            </p>
            <p>
                <a href="#" data-rel="dialog" data-transition="pop"
                   data-role="button" id="addUserBtn">Create User</a>
            </p>


        </form>
    </div>

</div>

<div data-role="page" id="login">
    <div data-role="header">
        <h1>CalPal Login</h1>
    </div>
    <div data-role="content">
        <p>
            <input type="text" id="username" placeHolder="First Name">
            <input type="text" id="password" placeHolder="Password">
        </p>
        <p>
            <a href="#" data-rel="dialog" data-transition="pop"
               data-role="button" id="LoginBtn">Login</a>


        </p>


    </div>
</div>

<div data-role="page" id="contacts">
    <div data-role="header">
        <h1>CalPal Login</h1>
    </div>
    <div data-role="content">
         <div id="salutation"></div>
        <div id="token"> </div>
        <div id="email-address"></div>
        <div id="contact-list"></div>

    </div>
</div>

<div data-role="page" id="page-tasklist">

    <div data-role="header" data-position="fixed" data-tap-toggle="false">
        <h1>GTask Demo</h1>
        <a href="#" id="head-menu-refresh" data-theme="a" data-role="button" data-icon="refresh" data-iconpos="notext"
           class="ui-btn-right refresh-list" style="right:2.85em;">Refresh</a>

        <a href="#" id="head-menu-signout" data-theme="a" data-role="button" data-icon="alert" data-iconpos="notext"
           class="ui-btn-right" style="right:0.55em;">Signout</a>

    </div><!-- /header -->

    <div data-role="content">

        <div id="qt-listview-error" class="ui-body ui-body-e request-info hide">
            <h4>Error Processing Your request</h4>
            <h6></h6>
            <a href="#" id="btn-refresh" data-role="button" class="refresh-list" data-icon="refresh"
               data-mini="true" data-inline="true" data-theme="b">Try Again</a>

            <a href="#" id="btn-hide-error" data-role="button" data-icon="delete"
               data-mini="true" data-inline="true" data-theme="c">Hide</a>
        </div>

        <!--
            Task List-View Container
            ---------------------------
            * All the task are contained winthing this listview.
            * Check "pageinit" for this page for markup and other ui hooks
        -->
        <ul data-role="listview" id="qt-listview-tasks">

        </ul>

        <div id="qt-listview-info" class="ui-body ui-body-e request-info hide">
            <h4>You do not have any Tasks. </h4>
            <p>Quick Tip: Add a Task by typing in the input box above </p>
        </div>

    </div><!-- /content -->

</div><!-- /page -->




<script>
    // Initialize the Facebook SDK
    $(document).ready(function() {
        FB.init({
            appId: '428574547256032',
           //nativeInterface: CDV.FB,
            useCachedDialogs: false,
            xfbml      : true
        });



        authUser();
        FB.getLoginStatus(handleStatusChange);
        FB.getLoginStatus(function(response) {
            if (response.status == "connected") {
                alert("yes I am in ");
            }
            else{
                alert(" you need to login to facebook:");
            }
        });
        //updateAuthElements();
    });
</script>

<script type="text/javascript" src="lib/gtaskdemo.main.js" charset="utf-8"></script>

</body>
</html>